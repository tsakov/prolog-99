name: GitHub Actions Demo
on:
  pull_request:
    types: [opened, edited, synchronize, reopened]
jobs:
  validate-pr-title:
    runs-on: ubuntu-latest
    steps:
      - name: Validate pull request title
        env:
          title: ${{ github.event.pull_request.title }}
          pattern: '^\[[A-Z]+-[\d]+\] '
        run: |
          echo title is $title
          echo pattern is $pattern
          if [[ $(echo "$title" | grep -cP "$pattern") -eq 0 ]]; then
            echo 'PR title does not match '
            echo 'Example: "[BPA-123] My awesome title"'
          fi
